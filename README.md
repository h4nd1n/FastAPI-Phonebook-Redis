<h1 align="center">üì± Phone ‚Üí Address API</h1>
<p align="center">
  –õ–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π FastAPI‚Äë—Å–µ—Ä–≤–∏—Å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–≤—è–∑–æ–∫ <code>—Ç–µ–ª–µ—Ñ–æ–Ω ‚Üí –∞–¥—Ä–µ—Å</code> –≤ Redis.
</p>

## –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–µ—Ä–≤–∏—Å
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–µ–ª–µ—Ñ–æ–Ω –∏ –∞–¥—Ä–µ—Å, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ Redis (–∫–ª—é—á ‚Äî —Ç–µ–ª–µ—Ñ–æ–Ω, –∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî –∞–¥—Ä–µ—Å).
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∞–¥—Ä–µ—Å –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É, –æ–±–Ω–æ–≤–ª—è–µ—Ç –∏–ª–∏ —É–¥–∞–ª—è–µ—Ç –∑–∞–ø–∏—Å—å.
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ (—Å—Ç—Ä–æ–∫–∞ –ø—Ä–∏–≤–æ–¥–∏—Ç—Å—è –∫ —Ü–∏—Ñ—Ä–∞–º, –¥–ª–∏–Ω–∞ 5‚Äì15).
- REST + –ø–æ–Ω—è—Ç–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã: 201/409 –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è, 200/404 –¥–ª—è —á—Ç–µ–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, 204/404 –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è.

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (Docker)
1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   ```bash
   cp .env.dist .env
   ```
2. –°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
   ```bash
   docker compose up --build
   ```
3. API –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ `http://localhost:8080`. Redis ‚Äî –Ω–∞ `localhost:6379`.

## –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –±–µ–∑ Docker
```bash
uv sync
. .venv/bin/activate        # PowerShell: .venv\Scripts\Activate
uvicorn src.main:create_app --reload --factory
```

## –¢–µ—Å—Ç—ã
```bash
pytest
```
–¢–µ—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ñ–µ–π–∫–æ–≤—ã–π Redis (–±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤).

### –ü–æ–∫—Ä—ã—Ç–∏–µ –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å
- 30 pytest-–∫–µ–π—Å–æ–≤: —é–Ω–∏—Ç—ã –¥–ª—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –¥–ª—è –≤—Å–µ—Ö REST-—Ä—É—á–µ–∫.
- –ü—Ä–æ–≤–µ—Ä—è–µ–º happy-path –∏ –æ—à–∏–±–∫–∏: 404/409/422, –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤, –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ Redis –Ω–∞ lifespan.
- –¢–µ—Å—Ç—ã –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã (FakeRedis/AsyncClient ASGITransport), –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∑–∞ <1 c –∏ –Ω–µ —Ç—Ä–µ–±—É—é—Ç –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ ‚Äî –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –≤ CI –±–µ–∑ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏.

## –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
- `GET /api/health` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è.
- `POST /api/v1/phones` ‚Äî —Å–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å. Body: `{ "phone": "+7 999...", "address": "..." }`.  
  –û—Ç–≤–µ—Ç 201 —Å –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º. 409, –µ—Å–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω —É–∂–µ –µ—Å—Ç—å.
- `GET /api/v1/phones/{phone}` ‚Äî –≤–µ—Ä–Ω—É—Ç—å `{phone, address}` –∏–ª–∏ 404.
- `PUT /api/v1/phones/{phone}` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å –∞–¥—Ä–µ—Å. Body: `{ "address": "..." }`. 404, –µ—Å–ª–∏ –Ω–µ—Ç.
- `DELETE /api/v1/phones/{phone}` ‚Äî —É–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å. 204 –∏–ª–∏ 404.

### –ü—Ä–∞–≤–∏–ª–∞ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞–º
- –í—Å–µ –Ω–µ—Ü–∏—Ñ—Ä–æ–≤—ã–µ —Å–∏–º–≤–æ–ª—ã —É–¥–∞–ª—è—é—Ç—Å—è.
- –î–æ–ø—É—Å—Ç–∏–º–∞—è –¥–ª–∏–Ω–∞ –ø–æ—Å–ª–µ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏: 5‚Äì15 —Ü–∏—Ñ—Ä.
- –ö–ª—é—á –≤ Redis —Å—Ç—Ä–æ–∏—Ç—Å—è –∫–∞–∫ `REDIS_KEY_PREFIX + <–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω>`.
